<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      dasharray Test
    </title>
    <!--
      <script defer src="script.js">
      </script>
    -->
    <!--
      <link rel="stylesheet" href="stylesheet.css">
      <link rel="stylesheet" href="stylesheet.css" media="print">
    -->
    <style>
    </style>

    <meta name="description" content="description">
  </head>
  <body>

    <svg version="1.1"
     width="300" height="200"
     xmlns="http://www.w3.org/2000/svg">
      <!--<rect id="rect" width="100%" height="100%" rx="10%" fill="white" stroke="red" stroke-dasharray="1 1000"></rect>-->
      <rect id="rect" width="100%" height="100%" rx="10" fill="white"></rect>



    </svg>

    <input type="range" id="stroke-percent" min="0" max="100" value="0" step="1">

    <script>
      function makeSVG(type, id, ...classes) {
        //----------------------------------------------------//
        //Returns an SVG element of the type indicated        //
        //----------------------------------------------------//
        //type(string): type of SVG element to create         //
        //id(string): id of the element                       //
        //classes(string): classes to add to the element       //
        //----------------------------------------------------//
        //return(element): SVG element                        //
        //----------------------------------------------------//

        let svg = document.createElementNS("http://www.w3.org/2000/svg", type);
        if (typeof id === "string") {svg.id = id}
        classes.forEach(x => svg.classList.add(x));
        return svg;
      }

      const diagonal = Math.sqrt((300 ** 2) + (200 ** 2)) / Math.sqrt(2);
      const perimeter = 1000 - 80 + (Math.PI * 20);
      const periPercent = (perimeter / diagonal) * 100;

      const rect = document.getElementById("rect");

      rect.setAttribute("stroke", "red");
      rect.setAttribute("stroke-dasharray", `0 ${periPercent}`);
      const slider = document.getElementById("stroke-percent");

      slider.addEventListener("input", (event) => {
        rect.setAttribute("stroke-dasharray", `${(parseInt(event.target.value, 10) / 100) * periPercent}% ${periPercent}%`);
      })
    </script>  
  </body>
</html>
